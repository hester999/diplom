events {}

http {
    include mime.types;
    default_type application/octet-stream;

    server {
        listen 80;

        location / {
            root /templates;  # –£–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å
            index index.html;
        }
        # –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ API –¥–ª—è SQL-–∏–Ω—ä–µ–∫—Ü–∏–π
        location /sql-injection/ {
            proxy_pass http://sql-injection:5000/sql-injection/;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
        }

        # üîπ –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ –¥–ª—è SQL-–∏–Ω—ä–µ–∫—Ü–∏–π
        location /sql-injection/static/ {
            root /app;
            index index.html;
            autoindex on;
            expires max;
        }

        # üîπ –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ –¥–ª—è XSS
        location /xss/static/ {
            root /app/xss/;
            index index.html;
            autoindex on;
            expires max;
        }

        # üîπ –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ –¥–ª—è CSRF
        location /csrf/static/ {
            root /app/csrf/;
            index index.html;
            autoindex on;
            expires max;
        }

        # üîπ –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ –¥–ª—è File Upload
        location /file-upload/static/ {
            root /app/file-upload/;
            index index.html;
            autoindex on;
            expires max;
        }

#         #üîπ –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ä–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
#         location ~* \.(?:css|js|ico|png|jpg|jpeg|gif|svg)$ {
#             root /app;
#             expires 6M;
#             access_log off;
#             add_header Cache-Control "public, max-age=31536000, immutable";
#         }
    }
}
